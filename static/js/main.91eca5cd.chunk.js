(this.webpackJsonptimer=this.webpackJsonptimer||[]).push([[0],{168:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),o=n(17),i=n.n(o),l=(n(98),n(19)),s=n(12),c=n(77),m=n(91),u=n(23),d=n(20),p=n(171),f=n(58),g=n(172),E=n(173),h=n(39),b=n(24),v=n.n(b),w=n(35),N=n(36),y=n.n(N),O=function(){return{type:"AUTENTICATE"}},x=function(e){return function(){var a=Object(w.a)(v.a.mark((function a(n){var t;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y.a.post("https://conduit.productionready.io/api/users/login",{user:e});case 3:t=a.sent,n({type:"ADD_USERNAME",payload:{name:t.data.user.username}}),n({type:"AUTENTICATE"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"ADD_MESSAGE"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},A={auth:O,addUser:x},j=Object(d.f)((function(e){var a=Object(h.a)({initialValues:{email:"",password:"",remember:!1},onSubmit:function(a){e.addUser(a).then((function(){return e.history.replace("/")}))}});return r.a.createElement("form",{name:"normal_login",className:"form",onSubmit:a.handleSubmit},r.a.createElement(p.a,{className:"margin-bottom",name:"email",prefix:r.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"E-mail",value:a.values.email,onChange:a.handleChange}),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(p.a,{name:"password",prefix:r.a.createElement(E.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",value:a.values.password,onChange:a.handleChange}),e.errorMsg&&r.a.createElement("div",{className:"error"},e.errorMsg)),r.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"left-margin"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(u.b,{to:"/signup",className:"left-margin"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f!"),a.errors.loginError&&r.a.createElement("div",null,"email or password is invalid"))})),S=Object(s.b)((function(e){return{isAuth:e.isAuth,errorMsg:e.errorMsg}}),A)(j),_=n(21),k=n(22);function M(){var e=Object(_.a)(["\n  background: none;\n  border: 1px solid #fff;\n  border-radius: 3px;\n  align-self: flex-start;\n  cursor: pointer;\n"]);return M=function(){return e},e}function T(){var e=Object(_.a)(["\n  width: 65%;\n  margin: 0 auto;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n"]);return T=function(){return e},e}function U(){var e=Object(_.a)(["\n  width: 200px;\n  height: 150px;\n  background: #fff;\n  margin: 0 auto;\n  border-radius: 50%;\n  margin-top: 10px;\n  background: #fff;\n"]);return U=function(){return e},e}function C(){var e=Object(_.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  background: #fff;\n  margin: 0 auto;\n"]);return C=function(){return e},e}function D(){var e=Object(_.a)(["\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  padding: 10px;\n  background-color: #ddd;\n  overflow: hidden;\n"]);return D=function(){return e},e}function q(){var e=Object(_.a)(["\n  color: #fff;\n  font-size: 50px;\n"]);return q=function(){return e},e}function I(){var e=Object(_.a)(["\n  padding: 40px 0;\n  background-color: lightseagreen;\n  width: 100%;\n  color: #fff;\n  margin-bottom: 30px;\n"]);return I=function(){return e},e}var R=k.a.header(I()),L=k.a.h1(q()),V=k.a.div(D()),P=k.a.div(C()),X=k.a.div(U()),Q=k.a.div(T()),W=k.a.button(M()),B={removeUserName:function(){return{type:"REMOVE_USERNAME"}},auth:O},G=Object(s.b)((function(e){return{userName:e.userName}}),B)((function(e){return r.a.createElement("div",null,r.a.createElement(R,null,r.a.createElement(Q,null,r.a.createElement(V,null,r.a.createElement(P,null),r.a.createElement(X,null)),r.a.createElement(L,null,"Wellcome,"," ",e.userName,"!"),r.a.createElement(W,{onClick:function(){e.removeUserName(),e.auth()}},"\u0412\u044b\u0445\u043e\u0434"))),r.a.createElement(Q,null,r.a.createElement("main",null,r.a.createElement("h2",{className:"text-center"},"Lorem, ipsum dolor."),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas molestiae dignissimos vel explicabo odio et dolore, amet magni cum fugit pariatur. Impedit sapiente quidem, magnam aliquid libero laborum numquam ullam."),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas molestiae dignissimos vel explicabo odio et dolore, amet magni cum fugit pariatur. Impedit sapiente quidem, magnam aliquid libero laborum numquam ullam. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas molestiae dignissimos vel explicabo odio et dolore, amet magni cum fugit pariatur. Impedit sapiente quidem, magnam aliquid libero laborum numquam ullam."))))})),J={addUser:x},z=Object(s.b)((function(e){return{isAuth:e.isAuth,errorMsg:e.errorMsg}}),J)((function(e){var a=Object(h.a)({initialValues:{username:"",email:"",password:""},onSubmit:function(){var a=Object(w.a)(v.a.mark((function a(n,t){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.setErrors,a.prev=1,a.next=4,y.a.post("https://conduit.productionready.io/api/users",{user:n});case 4:e.history.replace("/login"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),r({email:a.t0.response.data.errors.email,password:a.t0.response.data.errors.password,username:a.t0.response.data.errors.username});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e,n){return a.apply(this,arguments)}}()}),n=a.values,t=a.errors,o=a.handleChange,i=a.handleSubmit;return r.a.createElement("form",{className:"form",onSubmit:i},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(p.a,{name:"email",placeholder:"E-mail",label:"E-mail",type:"email",value:n.email,onChange:o}),t.email&&r.a.createElement("div",{className:"error"},t.email)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(p.a.Password,{name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",label:"Password",type:"password",value:n.password,onChange:o}),t.password&&r.a.createElement("div",{className:"error"},t.password)),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(p.a,{placeholder:"\u0418\u043c\u044f \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"username",label:"Nickname",value:n.username,onChange:o}),t.username&&r.a.createElement("div",{className:"error"},t.username)),r.a.createElement(f.a,{className:"left-margin",type:"primary",htmlType:"submit"},"Register"),r.a.createElement(u.b,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))}));var $=function(e){var a=e.component,n=e.store,t=Object(m.a)(e,["component","store"]);return r.a.createElement(d.b,Object.assign({},t,{render:function(e){return n?r.a.createElement(a,e):r.a.createElement(d.a,{to:"/login"})}}))},F=Object(s.b)((function(e){return{isAuth:e.isAuth}}))((function(e){return console.log(e),r.a.createElement(u.a,{basename:"/login-SPA"},r.a.createElement($,{store:e.isAuth,exact:!0,path:"/",component:G}),r.a.createElement(d.b,{path:"/login",component:S}),r.a.createElement(d.b,{path:"/signup",component:z}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=Object(l.c)({isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0;return"AUTENTICATE"===a.type?!e:e},userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return"ADD_USERNAME"===a.type?a.payload.name:"REMOVE_USERNAME"===a.type?"":e},errorMsg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;return"ADD_MESSAGE"===a.type?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c":e}}),K=(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(l.e)(H,Object(l.d)(Object(l.a)(c.a))));i.a.render(r.a.createElement(s.a,{store:K},r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,a,n){e.exports=n(168)},98:function(e,a,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.91eca5cd.chunk.js.map